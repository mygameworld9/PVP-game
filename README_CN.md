# PVP游戏

使用Godot Engine 4.4.1构建的综合性2D格斗游戏，拥有多样化的角色阵容、独特能力、状态管理和双语支持。

## 🎮 功能特性

### 角色系统
- **18个独特角色**：每个角色都有独特的属性、能力和游戏风格
- **角色属性**：生命值、移动速度、攻击伤害、攻击风格
- **技能系统**：每个角色多个技能，带冷却时间管理
- **状态管理**：角色状态的有限状态机（待机、行走、攻击、跳跃、击败）

### 全局状态管理
- **集中式游戏状态**：菜单、角色选择、地图选择、游戏中、暂停
- **角色和地图选择**：持久化选择系统，带验证功能
- **场景导航**：角色选择 → 地图选择 → 游戏的无缝流程
- **数据持久化**：选中的角色和地图在场景间全局存储

### 地图系统
- **5个独特地图**：训练场、神秘森林、皇家城堡、黑暗地牢、战斗竞技场
- **地图信息**：难度等级、尺寸规格和描述
- **碰撞系统**：角色与地面交互的适当物理层

### 战斗系统
- **鼠标攻击**：左键攻击1，右键攻击2
- **键盘技能**：数字键1-3用于特殊能力
- **移动**：WASD控制，角色移动流畅
- **跳跃**：空格键垂直移动，带重力物理

### 用户界面
- **双语支持**：完整的中文和英文语言支持
- **角色选择界面**：可视化角色阵容，带属性显示
- **地图选择界面**：交互式地图选择，带描述
- **游戏内HUD**：血条、状态指示器和控制信息
- **语言切换**：实时语言更改，无需重启

### 技术特性
- **物理系统**：CharacterBody2D，带适当的碰撞检测
- **动画系统**：AnimatedSprite2D，角色动画流畅
- **输入映射**：所有控制的自定义输入动作
- **自动加载系统**：Global和LanguageManager单例
- **场景管理**：模块化场景架构

## 🎯 角色阵容

| 角色 | 生命值 | 速度 | 伤害 | 风格 | 特殊能力 |
|------|--------|------|------|------|----------|
| 骑士 | 150 | 180 | 35 | 近战 | 盾击、战斗怒吼 |
| 法师 | 100 | 160 | 45 | 远程 | 火球术、传送 |
| 剑士 | 120 | 200 | 40 | 近战 | 快速打击、格挡 |
| 牧师 | 90 | 150 | 30 | 远程 | 治疗、圣光 |
| 骷髅 | 80 | 180 | 35 | 近战 | 骨投、不死 |
| 弓箭手 | 110 | 220 | 35 | 远程 | 快速射击、精准射击 |
| 狼人 | 130 | 190 | 45 | 近战 | 嚎叫、变形 |
| 史莱姆 | 70 | 140 | 25 | 近战 | 酸液喷射、分裂 |
| 士兵 | 140 | 170 | 40 | 近战 | 手榴弹、战术 |
| 装甲斧手 | 160 | 150 | 50 | 近战 | 重击、装甲 |
| 精英兽人 | 180 | 160 | 55 | 近战 | 狂战士之怒、冲锋 |
| 圣殿骑士 | 170 | 165 | 45 | 近战 | 圣击、保护 |
| 枪兵 | 130 | 185 | 42 | 近战 | 穿刺、冲锋 |
| 装甲兽人 | 190 | 155 | 60 | 近战 | 重甲、粉碎 |
| 装甲骷髅 | 120 | 175 | 38 | 近战 | 骨甲、诅咒 |
| 巨剑骷髅 | 140 | 165 | 48 | 近战 | 重斩、恐惧 |
| 兽人 | 160 | 170 | 45 | 近战 | 部落之怒、咆哮 |
| 兽人骑手 | 150 | 200 | 50 | 近战 | 骑乘冲锋、鞭击 |

## 🗺️ 可用地图

| 地图 | 难度 | 尺寸 | 描述 |
|------|------|------|------|
| 训练场 | 1 | 小 | 练习基础竞技场 |
| 神秘森林 | 2 | 中 | 密集森林，带障碍物 |
| 皇家城堡 | 3 | 大 | 宏伟城堡，多层结构 |
| 黑暗地牢 | 4 | 中 | 地下迷宫，带陷阱 |
| 战斗竞技场 | 5 | 大 | 专业格斗竞技场 |

## 🎮 控制

### 移动
- **W/A/S/D**：四个方向移动角色
- **空格**：跳跃（带重力物理）

### 战斗
- **左键点击**：攻击1（角色特定）
- **右键点击**：攻击2（角色特定）
- **1/2/3键**：使用特殊技能

### 导航
- **空格**（在菜单中）：确认选择并继续
- **鼠标**：点击按钮和选择选项

## 🛠️ 技术规格

### 引擎和版本
- **Godot引擎**：4.4.1稳定版
- **脚本语言**：GDScript
- **图形API**：Vulkan 1.4.303

### 项目结构
```
character_roster_game/
├── scenes/
│   ├── Main.tscn          # 角色选择界面
│   ├── MapSelection.tscn   # 地图选择界面
│   └── Game.tscn          # 主游戏场景
├── scripts/
│   ├── Global.gd          # 全局状态管理
│   ├── LanguageManager.gd # 双语支持
│   ├── Main.gd           # 角色选择逻辑
│   ├── MapSelection.gd    # 地图选择逻辑
│   ├── Game.gd           # 主游戏逻辑
│   └── [Character].gd    # 个别角色脚本
├── characters/
│   └── [Character].tscn  # 角色场景文件
└── assets/
    ├── sprites/          # 角色精灵
    ├── sounds/           # 音频文件
    └── fonts/            # 字体资源
```

### 关键系统
- **全局状态管理**：集中式游戏状态和数据持久化
- **有限状态机**：角色状态管理（待机、行走、攻击等）
- **碰撞系统**：基于层的物理（角色：层2，地面：层1）
- **动画系统**：AnimatedSprite2D用于角色动画
- **输入系统**：所有控制的自定义输入映射
- **UI系统**：响应式UI，带双语支持

## 🚀 开始使用

### 前提条件
- Godot Engine 4.4.1或更高版本
- Windows 10/11（在Windows 10上测试）

### 安装
1. 克隆或下载项目
2. 打开Godot Engine
3. 通过选择`project.godot`文件导入项目
4. 从编辑器运行项目或构建可执行文件

### 运行游戏
1. **角色选择**：从18个独特角色中选择
2. **地图选择**：选择5个可用地图之一
3. **游戏**：使用WASD移动，鼠标点击攻击，空格跳跃
4. **语言**：使用语言按钮在中英文之间切换

## 🔧 开发状态

### ✅ 已完成功能
- [x] 18角色阵容，独特属性和能力
- [x] 全局状态管理系统
- [x] 地图选择系统（5个地图）
- [x] 双语支持（中文/英文）
- [x] 基于鼠标的战斗系统
- [x] 键盘移动和跳跃
- [x] 角色状态管理（FSM）
- [x] 带适当层的碰撞系统
- [x] 带血条和状态的UI系统
- [x] 场景导航和流程
- [x] 输入映射和控制
- [x] 动画系统集成

### 🚧 当前开发
- [x] 全局状态管理实现
- [x] 地图选择系统
- [x] 增强的角色选择流程
- [x] 双语地图翻译
- [x] 碰撞层系统

### 🔮 未来增强
- [ ] 多人游戏支持
- [ ] 额外角色能力
- [ ] 更多地图和环境
- [ ] 音效和音乐
- [ ] 战斗粒子效果
- [ ] 保存/加载系统
- [ ] 角色进度
- [ ] 锦标赛模式
- [ ] AI对手
- [ ] 移动端支持

## 🐛 已知问题
- 一些角色场景文件有无效UID警告（非关键）
- 开发期间的碰撞层警告（已解决）

## 📝 许可证
本项目为教育和娱乐目的而开发。

## 🤝 贡献
欢迎贡献！请随时提交问题、功能请求或拉取请求。

---

**版本**：1.0.0  
**最后更新**：2024年12月  
**引擎**：Godot 4.4.1  
**状态**：积极开发 